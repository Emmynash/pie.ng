function mr_parallax(){"use strict";function a(a){for(var b=0;b<a.length;b++)if("undefined"!=typeof document.body.style[a[b]])return a[b];return null}function b(){var a,b=0;return q?(b=jQuery(".viu").find("nav:first").outerHeight(!0),a=jQuery(".viu").find("nav:first").css("position"),("absolute"===a||"fixed"===a)&&(b=0)):b=jQuery(document).find("nav:first").outerHeight(!0),Math.floor(b)}function c(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)}function d(){r===!1&&(r=!0,s=h(t.mr_parallaxBackground))}function e(a){var b={};return a&&"[object Function]"===b.toString.call(a)}function f(){return"undefined"==typeof window.mr_variant?!1:!0}var g,h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,i=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame,["transform","msTransform","webkitTransform","mozTransform","oTransform"]),j=a(i),k="translate3d(0,",l="px,0)",m=Math.max(document.documentElement.clientHeight,window.innerHeight||0),n=0,o=0,p=window,q=f(),r=!1,s=null,t=this;this.mr_scrollAssist=$("body").hasClass("scroll-assist")?!0:!1,jQuery(document).ready(function(){t.documentReady()}),jQuery(window).on("load",function(){t.windowLoad()}),this.getScrollingState=function(){return o>0?!0:!1},this.documentReady=function(a){return m=Math.max(document.documentElement.clientHeight,window.innerHeight||0),jQuery("body").hasClass("parallax-2d")&&(k="translate(0,",l="px)"),/Android|iPad|iPhone|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||window.opera)?jQuery(".parallax").removeClass("parallax"):h&&(t.profileParallaxElements(),t.setupParallax()),e(a)?void a():void 0},this.windowLoad=function(){m=Math.max(document.documentElement.clientHeight,window.innerHeight||0),n=b(),window.mr_parallax.profileParallaxElements()},this.setupParallax=function(){q&&(p=jQuery(".viu").get(0),"undefined"!=typeof p&&(p.scrollBy=function(a,b){this.scrollTop+=b,this.scrollLeft+=a})),"undefined"!=typeof p&&("undefined"==typeof window.mr&&(p.onscroll=d),window.addEventListener("resize",function(){m=c(),n=b(),t.profileParallaxElements(),t.mr_parallaxBackground()},!1),t.mr_parallaxBackground())},this.profileParallaxElements=function(){g=[],m=c(),n=b();var a=f(),d=".parallax > .background-image-holder, .parallax ul.slides > li > .background-image-holder, .parallax ul.slides .owl-item > li > .background-image-holder";a&&(d=".viu .parallax > .background-image-holder, .viu .parallax ul.slides > li > .background-image-holder, .parallax ul.slides .owl-item > li > .background-image-holder"),jQuery(d).each(function(b){var c=jQuery(this).closest(".parallax"),d=a?c.position().top:c.offset().top;g.push({section:c.get(0),outerHeight:c.outerHeight(),elemTop:d,elemBottom:d+c.outerHeight(),isFirstSection:c.is(":nth-of-type(1)")?!0:!1,imageHolder:jQuery(this).get(0),visible:!0}),c.get(0).style.visibility="visible",a?a&&(c.is(":nth-of-type(1)")?t.mr_setTranslate3DTransform(jQuery(this).get(0),0===t.mr_getScrollPosition()?0:t.mr_getScrollPosition()/2):t.mr_setTranslate3DTransform(jQuery(this).get(0),(t.mr_getScrollPosition()-d-n)/2)):c.is(":nth-of-type(1)")?t.mr_setTranslate3DTransform(jQuery(this).get(0),0===t.mr_getScrollPosition()?0:t.mr_getScrollPosition()/2):t.mr_setTranslate3DTransform(jQuery(this).get(0),(t.mr_getScrollPosition()+m-d)/2)})},this.mr_parallaxBackground=function(){for(var a,b=g.length,c="undefined"!=typeof mr?mr.scroll.y:t.mr_getScrollPosition();b--;)a=g[b],q?c+m-n>a.elemTop&&c-n<a.elemBottom?(a.visible||(a.section.style.visibility="visible",a.visible=!0),a.isFirstSection?a.imageHolder.style[j]=k+c/2+l:a.imageHolder.style[j]=k+(c-a.elemTop-n)/2+l):a.visible&&(a.section.style.visibility="hidden",a.visible=!1):c+m>=a.elemTop&&c<=a.elemBottom?(a.visible===!1,a.isFirstSection?a.imageHolder.style[j]=k+c/2+l:a.imageHolder.style[j]=k+(c+m-a.elemTop)/2+l):a.visible===!0;r=!1},this.mr_setTranslate3DTransform=function(a,b){a.style[j]=k+b+l},this.mr_getScrollPosition=function(){return p!==window?p.scrollTop:0===document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop}}window.mr_parallax=new mr_parallax;